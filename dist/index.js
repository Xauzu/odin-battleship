!function(){"use strict";var t={426:function(t,e,n){var i=n(81),o=n.n(i),a=n(645),r=n.n(a)()(o());r.push([t.id,"* {\n    font-family: 'Courier New', Courier, monospace;\n}\n\nhtml, body {\n    margin: 0px;\n    padding: 0px;\n}\n\n#content {\n    display: flex;\n    flex-direction: column;\n}\n\n#message-display {\n    margin: 2%;\n    padding: 2%;\n    text-align: center;\n    font-size: xx-large;\n    font-weight: bolder;\n\n    background-color: darkgrey;\n    border-radius: 16px;\n}\n\n#gameboard-row {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    justify-items: center;\n    gap: 0.5rem;\n}\n\n[id^='board-display-'] {\n    max-width: 400px;\n    max-height: 400px;\n    gap: 0.5rem;\n}\n\n[class^='gameboard-item'] {\n    padding: 0.2rem;\n    width: 2rem;\n    height: 2rem;\n\n    font-weight: bolder;\n    font-size: medium;\n}\n\n.ship-hit {\n    background-color: red;\n    color: white;\n}\n\n#action-button-container {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    margin: 2vw 2vh;\n\n    align-items: center;\n}\n\n#auto-place-button, #shoot-all-button {\n    width: fit-content;\n}\n\n.green {\n    background-color: green;\n}\n\n.red {\n    background-color: red;\n}\n\n.yellow {\n    background-color: yellow;\n}\n\n.has-ship {\n    border: blue 2px solid;\n}\n\n.hide {\n    display: none;\n}",""]),e.Z=r},645:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(r[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);i&&r[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},81:function(t){t.exports=function(t){return t[1]}},379:function(t){var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var a={},r=[],s=0;s<t.length;s++){var c=t[s],d=i.base?c[0]+i.base:c[0],l=a[d]||0,h="".concat(d," ").concat(l);a[d]=l+1;var u=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var g=o(p,i);i.byIndex=s,e.splice(s,0,{identifier:h,updater:g,references:1})}r.push(h)}return r}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=i(t=t||[],o=o||{});return function(t){t=t||[];for(var r=0;r<a.length;r++){var s=n(a[r]);e[s].references--}for(var c=i(t,o),d=0;d<a.length;d++){var l=n(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:function(t){var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={id:i,exports:{}};return t[i](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.nc=void 0,function(){let t=[];const e=(t,e,n)=>{const i=document.querySelector(`#board-display-${t}`);i.style.display="grid",i.style.gridTemplateColumns=`repeat(${e}, auto)`,i.style.gridTemplateRows=`repeat(${n}, auto)`};function i(){t[0].checkEndCondition()?a(`${t[1].getPlayer().getName()} Wins!`):t[1].checkEndCondition()&&a(`${t[0].getPlayer().getName()} Wins!`)}const o=(e,n)=>{const r=document.querySelector(`#board-display-${e}`);r.innerHTML="",n.getGrid().forEach((s=>{const c=document.querySelector("#content").getAttribute("data-state"),d=((e,n,r,s)=>{const c=document.createElement("button");return c.classList.add(`gameboard-item-${n}-${e.x}-${e.y}`),c.setAttribute("data-side",n),c.setAttribute("data-x",e.x),c.setAttribute("data-y",e.y),e.data[0]&&e.data[1]&&c.classList.add("ship-hit"),1===n?("1"!==s&&(c.disabled=!0),e.data[1]?c.disabled=!0:(c.setAttribute("data-hit",e.data[1]),function(e,n){e.addEventListener("click",(()=>{const a=+e.getAttribute("data-x"),r=+e.getAttribute("data-y"),s=+e.getAttribute("data-side"),c=n.shoot(a,r);o(s,n),c?(o(1,t[1]),i()):1===s&&(t[1].getPlayer().shootNext(t[0]),o(0,t[0]),i())}))}(c,r))):"0"!==s||e.data[0]?(e.data[0]&&c.classList.add("has-ship"),c.disabled=!0):(function(e,n){e.addEventListener("click",(()=>{const i=+e.getAttribute("data-x"),r=+e.getAttribute("data-y"),s=n.getPendingShips()[0],c=document.querySelector("#vertical-checkbox").checked;if(!1!==n.placeShip(i,r,s,c))if(n.getPendingShips().shift(),0===n.getPendingShips().length){document.querySelector("#content").setAttribute("data-state",1),a("Choose a coordinate to shoot.");for(let e=0;e<2;e++)o(e,t[e]);document.querySelector("#option-row").classList.add("hide");const e=document.querySelector("#auto-place-button");e&&(e.disabled=!0)}else{const t=n.getPendingShips()[0];a(`Place your ship: Ship(${t})`),o(0,n)}}))}(c,r),function(t,e){t.addEventListener("mouseover",(()=>{const n=+t.getAttribute("data-x"),i=+t.getAttribute("data-y"),o=e.getPendingShips()[0],a=document.querySelector("#vertical-checkbox").checked;let r="red";e.verifyShipPlacement(n,i,o,a)&&(r="green");for(let t=0;t<o;t++){let e=n,o=i;a?o=i+t:e=n+t;const s=document.querySelector(`.gameboard-item-0-${e}-${o}`);s&&s.classList.add(r)}})),t.addEventListener("mouseout",(()=>{const n=+t.getAttribute("data-x"),i=+t.getAttribute("data-y"),o=e.getPendingShips()[0],a=document.querySelector("#vertical-checkbox").checked;for(let t=0;t<o;t++){let e=n,o=i;a?o=i+t:e=n+t;const r=document.querySelector(`.gameboard-item-0-${e}-${o}`);r&&r.classList.remove("red","green")}}))}(c,r)),c})(s,e,n,c);let l="X";if(s.data[e]&&0===e)d.textContent=s.data[e].getLength();else if(s.data[e]&&1===e){const t=s.data[0];t&&t.isSunk()&&(l=t.getLength()),d.textContent=l}else s.data[1]&&(d.classList.add("yellow"),d.textContent=l);r.appendChild(d)}))},a=t=>{document.querySelector("#message-display").textContent=t};class r{constructor(t,e){this.x=t,this.y=e,this.data=[null,!1]}getData(){return this.data}setShip(t){this.data[0]=t}shoot(){this.data[1]=!0,this.data[0]&&this.data[0].hit()}isShot(){return this.data[1]}}class s{constructor(t){this.length=t,this.hits=0}getLength(){return this.length}hit(){this.hits+=1}isSunk(){return this.hits>=this.length}}class c{constructor(t,e,n,i){this.length=t,this.width=e,this.grid=Array(t*e).fill(),this.playerID=n||0,this.pendingShipList=i||[5,4,3,3,2],this.#t()}setPlayer(t){this.player=t}getPlayer(){return this.player}getLength(){return this.length}getWidth(){return this.width}getPendingShips(){return this.pendingShipList}#t(){for(let t=0;t<this.length*this.width;t++){const e=t%this.length,n=Math.floor(t/this.length),i=new r(e,n);this.grid[t]=i}}getGrid(){return this.grid}verifyShipPlacement(t,e,n,i){let o=0;for(let a=0;a<n;a++)(i&&e+a<this.width&&null===this.getCoordinateData(t,e+a)[0]||!i&&t+a<this.length&&null===this.getCoordinateData(t+a,e)[0])&&(o+=1);return o===n}placeShip(t,e,n,i){const o=new s(n);let a=!1;if(i){if(this.verifyShipPlacement(t,e,n,i)){for(let i=0;i<n;i++)this.getCoordinate(t,e+i).setShip(o);a=!0}}else if(this.verifyShipPlacement(t,e,n,i)){for(let i=0;i<n;i++)this.getCoordinate(t+i,e).setShip(o);a=!0}return!!a&&o}getCoordinate(t,e){return this.grid[t+e*this.length]}getCoordinateData(t,e){return this.grid[t+e*this.length].getData()}receiveAttack(t,e){const n=this.getCoordinate(t,e);n.shoot(),n[0]&&n[0].hit()}displayShipGrid(){let t="";for(let e=0;e<this.length*this.width;e++){const n=e%this.length,i=Math.floor(e/this.length);n%this.length==0&&(t+="\n"),t+=this.getCoordinateData(n,i)[0]?"S":"-"}console.log(t)}getBoardPlayerID(){return this.playerID}generateShipPlacement(t){const e=t?[...t]:this.pendingShipList;for(;e.length>0;){const t=e[0],n=Math.floor(Math.random()*(this.length-t+1)),i=Math.floor(Math.random()*(this.width-t+1)),o=!!Math.floor(2*Math.random());!1!==this.placeShip(n,i,t,o)&&e.shift()}}checkEndCondition(){let t=0,e=0;for(let n=0;n<this.grid.length;n++){const i=n%this.length,o=Math.floor(n/this.length),a=this.getCoordinateData(i,o);a[0]&&(e+=1,a[1]&&(t+=1))}return t===e}isValidShot(t,e){return!(t<0||t>this.length||e<0||e>this.width)&&!0!==this.getCoordinateData(t,e)[1]}shoot(t,e){return this.isValidShot(t,e)?(this.getCoordinate(t,e).shoot(),!!this.checkEndCondition()&&(document.querySelector("#content").setAttribute("data-state",2),!0)):-1}}class d{constructor(t,e){this.name=t,this.isAi=e||!1,e&&(this.aiStack=[])}setName(t){this.name=t}getName(){return this.name}shootRandom(t){let e=-1,n=0,i=0;for(;-1===e;)n=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),e=t.shoot(n,i);if(t.getCoordinateData(n,i)[0]&&t.getCoordinateData(n,i)[1]){this.successfulShot=[t.getCoordinateData(n,i)[0],n,i];const e=[[t.getCoordinateData(n,i)[0],n,i],[null,n,i-1],[null,n+1,i],[null,n,i+1],[null,n-1,i]];this.aiStack=[...this.aiStack,...e]}}shootStack(t){let[e,n,i]=this.aiStack.pop(),o=t.shoot(n,i);for(;-1===o&&this.aiStack.length>0;)[e,n,i]=this.aiStack.pop(),o=t.shoot(n,i);if(-1===o&&this.shootRandom(t),t.getCoordinateData(n,i)[0])if(t.getCoordinateData(n,i)[0].isSunk()){let t=this.aiStack[this.aiStack.length-1];for(;this.aiStack.length>0&&null===t[0];)this.aiStack.pop(),t=this.aiStack[this.aiStack.length-1]}else{const e=n-this.successfulShot[1],o=i-this.successfulShot[2];this.aiStack.push([null,n+e,i+o]),this.successfulShot=[t.getCoordinateData(n,i)[0],n,i]}}shootNext(t){0===this.aiStack.length?this.shootRandom(t):this.shootStack(t)}}var l=n(379),h=n.n(l),u=n(795),p=n.n(u),g=n(569),f=n.n(g),m=n(565),y=n.n(m),S=n(216),v=n.n(S),b=n(589),x=n.n(b),C=n(426),k={};k.styleTagTransform=x(),k.setAttributes=y(),k.insert=f().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=v(),h()(C.Z,k),C.Z&&C.Z.locals&&C.Z.locals;const w=[];!function(){(()=>{const t=document.querySelector("#content");t.setAttribute("data-state",0);const e=document.createElement("div");e.id="message-display",t.appendChild(e);const n=document.createElement("div");n.id="gameboard-row";for(let t=0;t<2;t++){const e=document.createElement("div");e.id=`board-display-${t}`,n.appendChild(e)}t.appendChild(n);const i=document.createElement("div");i.id="option-row",t.appendChild(i);const o=document.createElement("input");o.id="vertical-checkbox",o.type="checkbox",i.appendChild(o);const a=document.createElement("label");a.for="vertical-checkbox",a.textContent="Vertical?",i.appendChild(a)})(),a("Setting up ...");for(let t=0;t<2;t++){const n=new c(10,10,t);w.push(n),0===t?n.setPlayer(new d("Player 1")):n.setPlayer(new d("Ai",!0)),e(t,10,10)}t=w;for(let t=0;t<2;t++)1===t&&w[t].generateShipPlacement(),o(t,w[t]);var n;a("Finished setting up"),n=0,document.querySelector("#content").setAttribute("data-state",n);const i=w[0].getPendingShips()[0];a(`Place your ship: Ship(${i})`)}()}()}();